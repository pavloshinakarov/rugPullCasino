import{j as e,r as n,g as L}from"./index-D3XUmLVj.js";/* empty css              */const N="/rugPullCasino/assets/referral-program-mv0jecG9.png",b=({modalOpen:o,setModalOpen:h,title:m,message:c,setMessage:f,messageCopy:a,setMessageCopy:p})=>{const l=()=>{const d=document.querySelector(".modal-overlay"),t=document.querySelector(".modal-content");d&&t&&(d.classList.add("fade-out"),t.classList.add("slide-out"),setTimeout(()=>{h(!1),f(""),p("")},300))};return o?e.jsxs("div",{className:"modal-overlay",children:[e.jsx("button",{className:"modal-close",onClick:l,children:"Ã—"}),e.jsx("div",{className:"modal-content modal-referral",children:e.jsxs("div",{className:"modal-info",children:[e.jsx("div",{className:"header-modal",children:m}),e.jsx("hr",{}),c,e.jsx("p",{className:"message-copy",children:a})]})})]}):null},k=()=>{const[o,h]=n.useState(""),[m,c]=n.useState(""),[f,a]=n.useState(""),[p,l]=n.useState(""),[d,t]=n.useState(!1),[x,j]=n.useState(!1),[R,g]=n.useState("");let i=L();function C(r){return localStorage.getItem(r)}n.useEffect(()=>{typeof navigator.share=="function"&&j(!0);function r(){let s=C("initData");if(s){const T=new URLSearchParams(s),u={};T.forEach((y,w)=>{try{u[w]=JSON.parse(y)}catch{u[w]=y}}),u.user&&h(u.user.id)}else setTimeout(r,500)}r()},[]);function S(){t(!0),l("The URL for sharing has been copied to your clipboard"),c("Copy");let r="";i?o?(r=`https://t.me/RugPullCasinoBot/app?startapp=${o}-------${i}`,g(r)):(t(!0),a("The URL you are going to share will only be used for generate referred income with Daily Lottery, we recommend connecting from Telegram, for participate with friends airdrop earnings."),r=`https://t.me/RugPullCasinoBot/app?startapp=0-------${i}`,l("")):o?(t(!0),a("The URL you are going to share will only be used for the airdrop, we recommend connecting the wallet and sharing the new URL, which will generate Daily Lottery earnings for you."),r=`https://t.me/RugPullCasinoBot/app?startapp=${o}-------0`,g(r)):(t(!0),a("To share the URL you need to log in from Telegram and/or connect your wallet first."),l(""));const s=document.createElement("input");s.value=r,document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s)}async function v(){let r="";if(c("Share"),l(""),i?o?r=`https://t.me/RugPullCasinoBot/?referrer_telegram_id=${o}&referrer_wallet=${i}`:(t(!0),a("To share the URL you need to log in from Telegram and/or connect your wallet first.")):o?(t(!0),a("The URL you are going to share will only be used for the airdrop, we recommend connecting the wallet and sharing the new URL, which will generate Daily Lottery earnings for you."),r=`https://t.me/RugPullCasinoBot/?referrer_telegram_id=${o}`):(t(!0),a("To share the URL you need to log in from Telegram and/or connect your wallet first.")),navigator.share)try{await navigator.share({title:"Share Rug Pull Casino",text:"Win with daily lottery !",url:r})}catch(s){console.error("Error:",s)}else console.error("no api web share")}return e.jsxs("div",{className:"referred",children:[e.jsx("img",{src:N,className:"referral-img"}),e.jsx("p",{className:"text-referral",children:"Earn 1% profit on Ton for every person who uses the Daily Lottery game and 1% profit on Ton for every person who buys RPC tokens and 1% profit on RPC tokens for every person who plays Airdrop, just share your link with them."}),e.jsx("hr",{}),e.jsxs("div",{className:"container-buttons",children:[e.jsx("button",{className:"button-referral",onClick:()=>{S()},children:e.jsx("a",{children:"Copy"})}),x?e.jsx("button",{className:"button-referral",onClick:()=>{v()},children:e.jsx("a",{children:"Share"})}):""]}),e.jsx("div",{className:"show-link",children:e.jsx("p",{className:"link-copy",children:R})}),e.jsx(b,{title:m,message:f,setMessage:a,messageCopy:p,setMessageCopy:l,setModalOpen:t,modalOpen:d})]})};export{k as default};
