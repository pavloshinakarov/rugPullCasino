import{r as l,j as e,k as M,S as T,m as j}from"./index-BtbfvCp-.js";/* empty css              */const f="/rugPullCasino/assets/seven-ChS8j4ea.png",v="/rugPullCasino/assets/cherry-1eBRylf1.png",C="/rugPullCasino/assets/lemon-B539YYAc.png",b="/rugPullCasino/assets/crown-BlludbeE.png",S="/rugPullCasino/assets/price-RB9ypmuF.png",O="/rugPullCasino/assets/spin-CwAKE4e0.png",A="/rugPullCasino/assets/spinning-CkwOmCkT.png",U=({spingSlotMachine:i,result:d})=>{const[t,m]=l.useState([f,f,f]),[o,n]=l.useState(!1),[u,h]=l.useState(!1),c=[f,v,C,b,S];return l.useEffect(()=>{d&&d.length>0&&(n(!0),h(!0),setTimeout(()=>{const p=d.map(y=>{switch(y){case"seven":return f;case"cherry":return v;case"lemon":return C;case"price":return S;case"crown":return b;default:return c[0]}});m(p),n(!1),h(!1)},3e3))},[d]),l.useEffect(()=>{let p=null;return o&&(p=setInterval(()=>{m([c[Math.floor(Math.random()*c.length)],c[Math.floor(Math.random()*c.length)],c[Math.floor(Math.random()*c.length)]])},80)),()=>{p&&clearInterval(p)}},[o,c]),e.jsxs("div",{className:"slot-machine",children:[e.jsxs("div",{className:"container-reel",children:[e.jsx("div",{className:"reel",children:e.jsx("img",{src:t[0],alt:"Slot Symbol"})}),e.jsx("div",{className:"reel",children:e.jsx("img",{src:t[1],alt:"Slot Symbol"})}),e.jsx("div",{className:"reel",children:e.jsx("img",{src:t[2],alt:"Slot Symbol"})})]}),e.jsx("div",{className:`lever ${u?"pulled":""}`,children:e.jsx("div",{className:"lever-handle"})}),e.jsx("button",{id:"spin",onClick:()=>{i()},disabled:o,className:"spin-button",children:o?e.jsx("img",{src:A,alt:"spinning",className:"img-spinning"}):e.jsx("img",{src:O,alt:"spin",className:"img-spin"})})]})},q="/rugPullCasino/assets/airdrop-CQ0jVkd6.png",Y="/rugPullCasino/assets/leader-board-mark-CnxNp9SH.png",G=({modalOpen:i,setModalOpen:d,onClose:t,leaderBoard:m})=>{const o=()=>{const n=document.querySelector(".modal-overlay"),u=document.querySelector(".modal-content");n&&u&&(n.classList.add("fade-out"),u.classList.add("slide-out"),setTimeout(()=>{d(!1),t()},300))};return i?e.jsxs("div",{className:"modal-overlay",children:[e.jsx("button",{className:"modal-close",onClick:o,children:"×"}),e.jsxs("div",{className:"modal-content",children:[e.jsx("div",{className:"modal-title",children:e.jsx("img",{src:Y,alt:"Mark"})}),e.jsx("div",{className:"modal-content",children:m?e.jsxs("table",{className:"leader-board-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"head-table",children:"Photo"}),e.jsx("th",{className:"head-table",children:"Username"}),e.jsx("th",{className:"head-table",children:"Coins"})]})}),e.jsx("tbody",{children:m.map((n,u)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("img",{className:"img-user",src:`data:image/png;base64, ${n.photo}`,alt:`${n.username}'s avatar`,onError:h=>{h.currentTarget.onerror=null,h.currentTarget.src=M}})}),e.jsx("td",{children:e.jsx("strong",{children:n.username})}),e.jsx("td",{children:n.coins})]},u))})]}):e.jsx(T,{})})]})]}):null},W="/rugPullCasino/assets/spin-sound-Buz-Fh4b.mp3",H="/rugPullCasino/assets/win-coins-CE3GZVx5.mp3",V=({modalOpen:i,setModalOpen:d})=>{const t=[{name:"Lemon",points:2,img:C},{name:"Cherry",points:3,img:v},{name:"Price",points:5,img:S},{name:"Crown",points:7,img:b},{name:"Seven",points:10,img:f}],m=()=>{const o=document.querySelector(".modal-overlay"),n=document.querySelector(".modal-content");o&&n&&(o.classList.add("fade-out"),n.classList.add("slide-out"),setTimeout(()=>{d(!1)},300))};return i?e.jsxs("div",{className:"modal-overlay",children:[e.jsx("button",{className:"modal-close",onClick:m,children:"×"}),e.jsx("div",{className:"modal-content modal-referral",children:e.jsxs("div",{className:"modal-info",children:[e.jsx("div",{className:"header-modal",children:"How much can I win?"}),e.jsx("hr",{}),e.jsx("span",{className:"modal-description",children:"Match 3 identical symbols to win the corresponding amount of coins:"}),e.jsx("div",{className:"container-slot-symbol",children:t.map((o,n)=>e.jsxs("div",{className:"slot-symbol",children:[e.jsx("img",{src:o.img,alt:o.name,className:`symbol-image ${o.name}`}),e.jsxs("span",{children:[o.points," coins"]})]},n))})]})})]}):null},K=()=>{const[i,d]=l.useState(""),[t,m]=l.useState(null),[o,n]=l.useState([]),[u,h]=l.useState(null),[c,p]=l.useState(null),[y,g]=l.useState(!1),[E,w]=l.useState(!1),[P,I]=l.useState(""),R=()=>{const a=document.getElementById("effect-container");if(a)for(let s=0;s<50;s++){const r=document.createElement("div");r.className="particle",r.style.left=`${Math.random()*100}vw`,r.style.backgroundColor=["gold","silver","orange","yellow"][Math.floor(Math.random()*4)],r.style.animationDelay=`${Math.random()}s`,a.appendChild(r),r.addEventListener("animationend",()=>{a.removeChild(r)})}};function B(){new Audio(H).play()}const L=()=>{g(!1)},k=()=>{g(!1)};function x(a){return localStorage.getItem(a)}const N=()=>{(async()=>{try{const s=await j.post("https://api.rugpullcasino.com/user/status",{headers:{"Content-Type":"application/json"},referrer:x("referrerTelegramId"),initData:i});return m(s.data),D(),s.data}catch(s){return console.error("Error posting data:",s),null}})()};l.useEffect(()=>{i!==""&&N()},[i]);function $(){t.raffles>0&&setTimeout(()=>{new Audio(W).play().catch(r=>console.error("Error sound",r))},750),(async()=>{try{const s=await j.post("https://api.rugpullcasino.com/user/play",{headers:{"Content-Type":"application/json"},initData:i});N();try{return n(s.data.raffle),s.data.win&&s.data.win>0&&setTimeout(()=>{R(),B()},3e3),s.data}catch(r){console.error("Error posting data:",r)}}catch(s){console.error("Error posting data:",s)}})()}const D=()=>{const a=async()=>{try{const s=await j.post("https://api.rugpullcasino.com/user/airdrop/friends",{headers:{"Content-Type":"application/json"},initData:i});try{return s.data&&s.data.users&&p(s.data.users),s.data}catch(r){console.error("Error posting data:",r)}}catch(s){console.error("Error posting data:",s)}};i&&a(),setTimeout(()=>{i&&(a(),N())},6e4)},F=()=>{const a=async()=>{try{const s=await j.get("https://api.rugpullcasino.com/user/airdrop/1",{headers:{"Content-Type":"application/json"}});return s.data&&s.data.users&&h(s.data.users),s.data}catch(s){return console.error("Error posting data:",s),null}};setTimeout(()=>{a()},6e3)};return l.useEffect(()=>{function a(){let s=x("initData");if(s){d(s);const r=x("referrerTelegramId");r&&I(r),x("referrerWallet")}}a(),F()},[]),e.jsxs("div",{className:"Airdrop",children:[i===""?e.jsx(e.Fragment,{children:e.jsx("p",{className:"alert-telegram-airdrop",children:"To participate in the Airdrop, it is necessary to open the application from Telegram."})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"container-slot",children:[e.jsx("img",{className:"title-airdrop",src:q}),e.jsx(U,{result:o,spingSlotMachine:$}),e.jsx("div",{id:"effect-container"}),e.jsx("div",{className:"container-info",children:e.jsx("button",{className:"button-info",onClick:()=>w(!0),children:"?"})})]}),t!=null?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"data-coins",children:[e.jsxs("p",{children:["Coins: ",t.coins]}),e.jsxs("p",{children:["Spins: ",t.raffles]})]}),t.raffles===0?e.jsxs("p",{className:"wait-next-raffle",children:["You have to wait: ",t.nextRaffle>=60?`${Math.floor(t.nextRaffle/60)} hour${Math.floor(t.nextRaffle/60)!==1?"s":""} ${Math.floor(t.nextRaffle%60)} minute${Math.floor(t.nextRaffle%60)!==1?"s":""}`:`${Math.floor(t.nextRaffle)} minute${Math.floor(t.nextRaffle)!==1?"s":""}`]}):"",e.jsx("p",{className:"text-airdrop",children:"The RPC you will get in the airdrop will be calculated based on the total coins captured by the rest of the users, not being more than 10% of the pre-sale."}),e.jsx("p",{className:"text-airdrop",children:"You get 25 raffles every 8 hours +1 for each friend."}),e.jsx("button",{className:"leader-board-button",onClick:()=>g(!0),children:"Leader Board"}),P!==""?e.jsx("p",{className:"referred-text",children:"1% of your earned RPC tokens will go to the friend who referred you."}):"",e.jsx("hr",{}),e.jsx("h2",{children:"Friends Leader Board"}),e.jsx("div",{className:"container-leader-board",children:c?e.jsxs("table",{className:"leader-board-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"head-table",children:"Photo"}),e.jsx("th",{className:"head-table",children:"Username"}),e.jsx("th",{className:"head-table",children:"Coins"}),e.jsx("th",{className:"head-table",children:"Earned"})]})}),e.jsx("tbody",{children:c.map((a,s)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("img",{className:"img-user",src:`data:image/png;base64, ${a.photo}`,alt:`${a.username}'s avatar`,onError:r=>{r.currentTarget.onerror=null,r.currentTarget.src=M}})}),e.jsx("td",{children:e.jsx("strong",{children:a.username})}),e.jsx("td",{children:a.coins}),e.jsx("td",{children:(a.coins*.01).toFixed(2)})]},s))})]}):e.jsx(T,{})}),e.jsx("hr",{})]}):""]}),e.jsx(G,{modalOpen:y,setModalOpen:g,onClose:L,leaderBoard:u}),e.jsx(V,{modalOpen:E,setModalOpen:w,onClose:k})]})};export{K as default};
